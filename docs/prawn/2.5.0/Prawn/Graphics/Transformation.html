<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>
  Module: Prawn::Graphics::Transformation
  
    &mdash; Prawn Documentation
  
</title>

  <link rel="stylesheet" href="../../css/style.css" type="text/css" />

  <link rel="stylesheet" href="../../css/common.css" type="text/css" />

  <link rel="stylesheet" href="../../css/syntax-highlight.css" type="text/css" />

<script type="text/javascript">
  pathId = "Prawn::Graphics::Transformation";
  relpath = '../../';
</script>


  <script type="text/javascript" charset="utf-8" src="../../js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="../../js/app.js"></script>


  </head>
  <body>
    <div class="nav_wrap">
      <iframe id="nav" src="../../class_list.html?1"></iframe>
      <div id="resizer"></div>
    </div>

    <div id="main" tabindex="-1">
      <div id="header">
        <div id="menu">
  
    <a href="../../_index.html">Index (T)</a> &raquo;
    <span class='title'><span class='object_link'><a href="../../Prawn.html" title="Prawn (module)">Prawn</a></span></span> &raquo; <span class='title'><span class='object_link'><a href="../Graphics.html" title="Prawn::Graphics (module)">Graphics</a></span></span>
     &raquo; 
    <span class="title">Transformation</span>
  
</div>

        <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="../../class_list.html">

        <svg width="24" height="24">
          <rect x="0" y="4" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="12" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="20" width="24" height="4" rx="1" ry="1"></rect>
        </svg>
    </a>
  
</div>
        <div class="clear"></div>
      </div>

      <div id="content"><h1>Module: Prawn::Graphics::Transformation
  
  
  
</h1>
<div class="box_info">
  

  
  
  
  
  

  
  <dl>
    <dt>Included in:</dt>
    <dd><span class='object_link'><a href="../Graphics.html" title="Prawn::Graphics (module)">Prawn::Graphics</a></span></dd>
  </dl>
  

  
  <dl>
    <dt>Defined in:</dt>
    <dd>lib/prawn/graphics/transformation.rb</dd>
  </dl>
  
</div>

<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    <p>Implements user-space coordinate transformation.</p>


  </div>
</div>
<div class="tags">
  


</div>








  
    <section id="method-summary-o2czp4">
      <h2>
        Stable API
        <small><a href="#" class="summary_toggle">collapse</a></small>
      </h2>

      <ul class="summary">
        
          <li class="public ">
  <span class="summary_signature">
    
      <a href="#rotate-instance_method" title="#rotate (instance method)">#<strong>rotate</strong>(angle, options = {}) { ... } &#x21d2; void </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Rotate the user space.</p>
</div></span>
  
</li>

        
          <li class="public ">
  <span class="summary_signature">
    
      <a href="#scale-instance_method" title="#scale (instance method)">#<strong>scale</strong>(factor, options = {}) { ... } &#x21d2; void </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Scale the user space.</p>
</div></span>
  
</li>

        
          <li class="public ">
  <span class="summary_signature">
    
      <a href="#transformation_matrix-instance_method" title="#transformation_matrix (instance method)">#<strong>transformation_matrix</strong>(*matrix) { ... } &#x21d2; void </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Transform the user space (see notes for rotate regarding graphics state) Generally, one would use the <span class='object_link'><a href="#rotate-instance_method" title="Prawn::Graphics::Transformation#rotate (method)">#rotate</a></span>, <span class='object_link'><a href="#scale-instance_method" title="Prawn::Graphics::Transformation#scale (method)">#scale</a></span>, and <span class='object_link'><a href="#translate-instance_method" title="Prawn::Graphics::Transformation#translate (method)">#translate</a></span> convenience methods instead of calling transformation_matrix directly.</p>
</div></span>
  
</li>

        
          <li class="public ">
  <span class="summary_signature">
    
      <a href="#translate-instance_method" title="#translate (instance method)">#<strong>translate</strong>(x, y) { ... } &#x21d2; void </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Translate the user space.</p>
</div></span>
  
</li>

        
      </ul>
    </section>
  




  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="rotate-instance_method">
  
    #<strong>rotate</strong>(angle, options = {}) { ... } &#x21d2; <tt>void</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note returns_void">This method returns an undefined value.</p><p>Rotate the user space. If a block is not provided, then you must save
and restore the graphics state yourself.</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
      <div lang="ruby" class="language-ruby highlighter-rouge"><pre><code><span class="n">save_graphics_state</span>
<span class="n">rotate</span> <span class="mi">30</span>
<span class="n">text</span> <span class="s2">"rotated text"</span>
<span class="n">restore_graphics_state</span></code></pre></div>

    
      
        <p class="example_title"><div class='inline'><p>Rotating a rectangle around its upper-left corner</p>
</div></p>
      
      <div lang="ruby" class="language-ruby highlighter-rouge"><pre><code><span class="n">x</span> <span class="o">=</span> <span class="mi">300</span>
<span class="n">y</span> <span class="o">=</span> <span class="mi">300</span>
<span class="n">width</span> <span class="o">=</span> <span class="mi">150</span>
<span class="n">height</span> <span class="o">=</span> <span class="mi">200</span>
<span class="n">angle</span> <span class="o">=</span> <span class="mi">30</span>
<span class="n">pdf</span><span class="p">.</span><span class="nf">rotate</span><span class="p">(</span><span class="n">angle</span><span class="p">,</span> <span class="ss">:origin</span> <span class="o">=&gt;</span> <span class="p">[</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">])</span> <span class="k">do</span>
  <span class="n">pdf</span><span class="p">.</span><span class="nf">stroke_rectangle</span><span class="p">([</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">],</span> <span class="n">width</span><span class="p">,</span> <span class="n">height</span><span class="p">)</span>
<span class="k">end</span></code></pre></div>

    
  </div>

<p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>angle</span>
      
      
        <span class='type'>(<tt>Number</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>Angle in degrees.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>options</span>
      
      
        <span class='type'>(<tt>Hash{Symbol =&gt; any}</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>{}</tt>)</em>
      
      
    </li>
  
</ul>

  
    
    
    
    
    <p class="tag_title">Options Hash (<tt>options</tt>):</p>
    <ul class="option">
      
        <li>
          <span class="name">:origin</span>
          <span class="type">(<tt>Array(Number</tt>, <tt>Number)</tt>)</span>
          <span class="default">
            
          </span>
          
            &mdash; <div class='inline'><p>Rotation origin point.
A block must be provided if specified.</p>
</div>
          
        </li>
      
    </ul>
  

<p class="tag_title">Yields:</p>
<ul class="yield">
  
    <li>
      
      
        <span class='type'></span>
      
      
      
    </li>
  
</ul>
<p class="tag_title">Raises:</p>
<ul class="raise">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../Errors.html#BlockRequired-constant" title="Prawn::Errors::BlockRequired (constant)">Prawn::Errors::BlockRequired</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>if an <code class="language-ruby highlighter-rouge"><span class="ss">:origin</span></code> option is
provided, but no block is given.</p>
</div>
      
    </li>
  
</ul>

</div>
<details class="source-code">
  <summary><span>Source Code</span></summary>
  <div class="info file">lib/prawn/graphics/transformation.rb, line 36</div>
  <table class="highlight highlighter-rouge"><tbody><tr id="line-36" class="lineno"><td class="rouge-gutter gl" style="-moz-user-select: none;-ms-user-select: none;-webkit-user-select: none;user-select: none;"><pre>36</pre></td><td class="rouge-code"><pre><span class="k">def</span> <span class="nf">rotate</span><span class="p">(</span><span class="n">angle</span><span class="p">,</span> <span class="n">options</span> <span class="o">=</span> <span class="p">{},</span> <span class="o">&amp;</span><span class="n">block</span><span class="p">)</span>
</pre></td></tr><tr id="line-37" class="lineno"><td class="rouge-gutter gl" style="-moz-user-select: none;-ms-user-select: none;-webkit-user-select: none;user-select: none;"><pre>37</pre></td><td class="rouge-code"><pre>  <span class="no">Prawn</span><span class="p">.</span><span class="nf">verify_options</span><span class="p">(</span><span class="ss">:origin</span><span class="p">,</span> <span class="n">options</span><span class="p">)</span>
</pre></td></tr><tr id="line-38" class="lineno"><td class="rouge-gutter gl" style="-moz-user-select: none;-ms-user-select: none;-webkit-user-select: none;user-select: none;"><pre>38</pre></td><td class="rouge-code"><pre>  <span class="n">rad</span> <span class="o">=</span> <span class="n">degree_to_rad</span><span class="p">(</span><span class="n">angle</span><span class="p">)</span>
</pre></td></tr><tr id="line-39" class="lineno"><td class="rouge-gutter gl" style="-moz-user-select: none;-ms-user-select: none;-webkit-user-select: none;user-select: none;"><pre>39</pre></td><td class="rouge-code"><pre>  <span class="n">cos</span> <span class="o">=</span> <span class="no">Math</span><span class="p">.</span><span class="nf">cos</span><span class="p">(</span><span class="n">rad</span><span class="p">)</span>
</pre></td></tr><tr id="line-40" class="lineno"><td class="rouge-gutter gl" style="-moz-user-select: none;-ms-user-select: none;-webkit-user-select: none;user-select: none;"><pre>40</pre></td><td class="rouge-code"><pre>  <span class="n">sin</span> <span class="o">=</span> <span class="no">Math</span><span class="p">.</span><span class="nf">sin</span><span class="p">(</span><span class="n">rad</span><span class="p">)</span>
</pre></td></tr><tr id="line-41" class="lineno"><td class="rouge-gutter gl" style="-moz-user-select: none;-ms-user-select: none;-webkit-user-select: none;user-select: none;"><pre>41</pre></td><td class="rouge-code"><pre>  <span class="k">if</span> <span class="n">options</span><span class="p">[</span><span class="ss">:origin</span><span class="p">].</span><span class="nf">nil?</span>
</pre></td></tr><tr id="line-42" class="lineno"><td class="rouge-gutter gl" style="-moz-user-select: none;-ms-user-select: none;-webkit-user-select: none;user-select: none;"><pre>42</pre></td><td class="rouge-code"><pre>    <span class="n">transformation_matrix</span><span class="p">(</span><span class="n">cos</span><span class="p">,</span> <span class="n">sin</span><span class="p">,</span> <span class="o">-</span><span class="n">sin</span><span class="p">,</span> <span class="n">cos</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">block</span><span class="p">)</span>
</pre></td></tr><tr id="line-43" class="lineno"><td class="rouge-gutter gl" style="-moz-user-select: none;-ms-user-select: none;-webkit-user-select: none;user-select: none;"><pre>43</pre></td><td class="rouge-code"><pre>  <span class="k">else</span>
</pre></td></tr><tr id="line-44" class="lineno"><td class="rouge-gutter gl" style="-moz-user-select: none;-ms-user-select: none;-webkit-user-select: none;user-select: none;"><pre>44</pre></td><td class="rouge-code"><pre>    <span class="k">raise</span> <span class="no">Prawn</span><span class="o">::</span><span class="no">Errors</span><span class="o">::</span><span class="no">BlockRequired</span> <span class="k">unless</span> <span class="n">block</span>
</pre></td></tr><tr id="line-45" class="lineno"><td class="rouge-gutter gl" style="-moz-user-select: none;-ms-user-select: none;-webkit-user-select: none;user-select: none;"><pre>45</pre></td><td class="rouge-code"><pre>
</pre></td></tr><tr id="line-46" class="lineno"><td class="rouge-gutter gl" style="-moz-user-select: none;-ms-user-select: none;-webkit-user-select: none;user-select: none;"><pre>46</pre></td><td class="rouge-code"><pre>    <span class="n">x</span> <span class="o">=</span> <span class="n">options</span><span class="p">[</span><span class="ss">:origin</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="n">bounds</span><span class="p">.</span><span class="nf">absolute_left</span>
</pre></td></tr><tr id="line-47" class="lineno"><td class="rouge-gutter gl" style="-moz-user-select: none;-ms-user-select: none;-webkit-user-select: none;user-select: none;"><pre>47</pre></td><td class="rouge-code"><pre>    <span class="n">y</span> <span class="o">=</span> <span class="n">options</span><span class="p">[</span><span class="ss">:origin</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="n">bounds</span><span class="p">.</span><span class="nf">absolute_bottom</span>
</pre></td></tr><tr id="line-48" class="lineno"><td class="rouge-gutter gl" style="-moz-user-select: none;-ms-user-select: none;-webkit-user-select: none;user-select: none;"><pre>48</pre></td><td class="rouge-code"><pre>    <span class="n">x_prime</span> <span class="o">=</span> <span class="p">(</span><span class="n">x</span> <span class="o">*</span> <span class="n">cos</span><span class="p">)</span> <span class="o">-</span> <span class="p">(</span><span class="n">y</span> <span class="o">*</span> <span class="n">sin</span><span class="p">)</span>
</pre></td></tr><tr id="line-49" class="lineno"><td class="rouge-gutter gl" style="-moz-user-select: none;-ms-user-select: none;-webkit-user-select: none;user-select: none;"><pre>49</pre></td><td class="rouge-code"><pre>    <span class="n">y_prime</span> <span class="o">=</span> <span class="p">(</span><span class="n">x</span> <span class="o">*</span> <span class="n">sin</span><span class="p">)</span> <span class="o">+</span> <span class="p">(</span><span class="n">y</span> <span class="o">*</span> <span class="n">cos</span><span class="p">)</span>
</pre></td></tr><tr id="line-50" class="lineno"><td class="rouge-gutter gl" style="-moz-user-select: none;-ms-user-select: none;-webkit-user-select: none;user-select: none;"><pre>50</pre></td><td class="rouge-code"><pre>    <span class="n">translate</span><span class="p">(</span><span class="n">x</span> <span class="o">-</span> <span class="n">x_prime</span><span class="p">,</span> <span class="n">y</span> <span class="o">-</span> <span class="n">y_prime</span><span class="p">)</span> <span class="k">do</span>
</pre></td></tr><tr id="line-51" class="lineno"><td class="rouge-gutter gl" style="-moz-user-select: none;-ms-user-select: none;-webkit-user-select: none;user-select: none;"><pre>51</pre></td><td class="rouge-code"><pre>      <span class="n">transformation_matrix</span><span class="p">(</span><span class="n">cos</span><span class="p">,</span> <span class="n">sin</span><span class="p">,</span> <span class="o">-</span><span class="n">sin</span><span class="p">,</span> <span class="n">cos</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">block</span><span class="p">)</span>
</pre></td></tr><tr id="line-52" class="lineno"><td class="rouge-gutter gl" style="-moz-user-select: none;-ms-user-select: none;-webkit-user-select: none;user-select: none;"><pre>52</pre></td><td class="rouge-code"><pre>    <span class="k">end</span>
</pre></td></tr><tr id="line-53" class="lineno"><td class="rouge-gutter gl" style="-moz-user-select: none;-ms-user-select: none;-webkit-user-select: none;user-select: none;"><pre>53</pre></td><td class="rouge-code"><pre>  <span class="k">end</span>
</pre></td></tr><tr id="line-54" class="lineno"><td class="rouge-gutter gl" style="-moz-user-select: none;-ms-user-select: none;-webkit-user-select: none;user-select: none;"><pre>54</pre></td><td class="rouge-code"><pre><span class="k">end</span>
</pre></td></tr></tbody></table>
</details>

</div>
    
      <div class="method_details ">
  <h3 class="signature " id="scale-instance_method">
  
    #<strong>scale</strong>(factor, options = {}) { ... } &#x21d2; <tt>void</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note returns_void">This method returns an undefined value.</p><p>Scale the user space. If a block is not provided, then you must save
and restore the graphics state yourself.</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
      <div lang="ruby" class="language-ruby highlighter-rouge"><pre><code><span class="n">save_graphics_state</span>
<span class="n">scale</span> <span class="mf">1.5</span>
<span class="n">text</span> <span class="s2">"scaled text"</span>
<span class="n">restore_graphics_state</span></code></pre></div>

    
      
        <p class="example_title"><div class='inline'><p>Scale a rectangle from its upper-left corner</p>
</div></p>
      
      <div lang="ruby" class="language-ruby highlighter-rouge"><pre><code><span class="n">x</span> <span class="o">=</span> <span class="mi">300</span>
<span class="n">y</span> <span class="o">=</span> <span class="mi">300</span>
<span class="n">width</span> <span class="o">=</span> <span class="mi">150</span>
<span class="n">height</span> <span class="o">=</span> <span class="mi">200</span>
<span class="n">factor</span> <span class="o">=</span> <span class="mf">1.5</span>
<span class="n">pdf</span><span class="p">.</span><span class="nf">scale</span><span class="p">(</span><span class="n">angle</span><span class="p">,</span> <span class="ss">:origin</span> <span class="o">=&gt;</span> <span class="p">[</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">])</span> <span class="k">do</span>
  <span class="n">pdf</span><span class="p">.</span><span class="nf">stroke_rectangle</span><span class="p">([</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">],</span> <span class="n">width</span><span class="p">,</span> <span class="n">height</span><span class="p">)</span>
<span class="k">end</span></code></pre></div>

    
  </div>

<p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>factor</span>
      
      
        <span class='type'>(<tt>Number</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>Scale factor.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>options</span>
      
      
        <span class='type'>(<tt>Hash{Symbol =&gt; any}</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>{}</tt>)</em>
      
      
    </li>
  
</ul>

  
    
    
    
    
    <p class="tag_title">Options Hash (<tt>options</tt>):</p>
    <ul class="option">
      
        <li>
          <span class="name">:origin</span>
          <span class="type">(<tt>Array(Number</tt>, <tt>Number)</tt>)</span>
          <span class="default">
            
          </span>
          
            &mdash; <div class='inline'><p>The point from which to
scale. A block must be provided if specified.</p>
</div>
          
        </li>
      
    </ul>
  

<p class="tag_title">Yields:</p>
<ul class="yield">
  
    <li>
      
      
        <span class='type'></span>
      
      
      
    </li>
  
</ul>
<p class="tag_title">Raises:</p>
<ul class="raise">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../Errors.html#BlockRequired-constant" title="Prawn::Errors::BlockRequired (constant)">Prawn::Errors::BlockRequired</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>If an <code class="language-ruby highlighter-rouge"><span class="ss">:origin</span></code> option is
provided, but no block is given.</p>
</div>
      
    </li>
  
</ul>

</div>
<details class="source-code">
  <summary><span>Source Code</span></summary>
  <div class="info file">lib/prawn/graphics/transformation.rb, line 109</div>
  <table class="highlight highlighter-rouge"><tbody><tr id="line-109" class="lineno"><td class="rouge-gutter gl" style="-moz-user-select: none;-ms-user-select: none;-webkit-user-select: none;user-select: none;"><pre>109</pre></td><td class="rouge-code"><pre><span class="k">def</span> <span class="nf">scale</span><span class="p">(</span><span class="n">factor</span><span class="p">,</span> <span class="n">options</span> <span class="o">=</span> <span class="p">{},</span> <span class="o">&amp;</span><span class="n">block</span><span class="p">)</span>
</pre></td></tr><tr id="line-110" class="lineno"><td class="rouge-gutter gl" style="-moz-user-select: none;-ms-user-select: none;-webkit-user-select: none;user-select: none;"><pre>110</pre></td><td class="rouge-code"><pre>  <span class="no">Prawn</span><span class="p">.</span><span class="nf">verify_options</span><span class="p">(</span><span class="ss">:origin</span><span class="p">,</span> <span class="n">options</span><span class="p">)</span>
</pre></td></tr><tr id="line-111" class="lineno"><td class="rouge-gutter gl" style="-moz-user-select: none;-ms-user-select: none;-webkit-user-select: none;user-select: none;"><pre>111</pre></td><td class="rouge-code"><pre>  <span class="k">if</span> <span class="n">options</span><span class="p">[</span><span class="ss">:origin</span><span class="p">].</span><span class="nf">nil?</span>
</pre></td></tr><tr id="line-112" class="lineno"><td class="rouge-gutter gl" style="-moz-user-select: none;-ms-user-select: none;-webkit-user-select: none;user-select: none;"><pre>112</pre></td><td class="rouge-code"><pre>    <span class="n">transformation_matrix</span><span class="p">(</span><span class="n">factor</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">factor</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">block</span><span class="p">)</span>
</pre></td></tr><tr id="line-113" class="lineno"><td class="rouge-gutter gl" style="-moz-user-select: none;-ms-user-select: none;-webkit-user-select: none;user-select: none;"><pre>113</pre></td><td class="rouge-code"><pre>  <span class="k">else</span>
</pre></td></tr><tr id="line-114" class="lineno"><td class="rouge-gutter gl" style="-moz-user-select: none;-ms-user-select: none;-webkit-user-select: none;user-select: none;"><pre>114</pre></td><td class="rouge-code"><pre>    <span class="k">raise</span> <span class="no">Prawn</span><span class="o">::</span><span class="no">Errors</span><span class="o">::</span><span class="no">BlockRequired</span> <span class="k">unless</span> <span class="n">block</span>
</pre></td></tr><tr id="line-115" class="lineno"><td class="rouge-gutter gl" style="-moz-user-select: none;-ms-user-select: none;-webkit-user-select: none;user-select: none;"><pre>115</pre></td><td class="rouge-code"><pre>
</pre></td></tr><tr id="line-116" class="lineno"><td class="rouge-gutter gl" style="-moz-user-select: none;-ms-user-select: none;-webkit-user-select: none;user-select: none;"><pre>116</pre></td><td class="rouge-code"><pre>    <span class="n">x</span> <span class="o">=</span> <span class="n">options</span><span class="p">[</span><span class="ss">:origin</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="n">bounds</span><span class="p">.</span><span class="nf">absolute_left</span>
</pre></td></tr><tr id="line-117" class="lineno"><td class="rouge-gutter gl" style="-moz-user-select: none;-ms-user-select: none;-webkit-user-select: none;user-select: none;"><pre>117</pre></td><td class="rouge-code"><pre>    <span class="n">y</span> <span class="o">=</span> <span class="n">options</span><span class="p">[</span><span class="ss">:origin</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="n">bounds</span><span class="p">.</span><span class="nf">absolute_bottom</span>
</pre></td></tr><tr id="line-118" class="lineno"><td class="rouge-gutter gl" style="-moz-user-select: none;-ms-user-select: none;-webkit-user-select: none;user-select: none;"><pre>118</pre></td><td class="rouge-code"><pre>    <span class="n">x_prime</span> <span class="o">=</span> <span class="n">factor</span> <span class="o">*</span> <span class="n">x</span>
</pre></td></tr><tr id="line-119" class="lineno"><td class="rouge-gutter gl" style="-moz-user-select: none;-ms-user-select: none;-webkit-user-select: none;user-select: none;"><pre>119</pre></td><td class="rouge-code"><pre>    <span class="n">y_prime</span> <span class="o">=</span> <span class="n">factor</span> <span class="o">*</span> <span class="n">y</span>
</pre></td></tr><tr id="line-120" class="lineno"><td class="rouge-gutter gl" style="-moz-user-select: none;-ms-user-select: none;-webkit-user-select: none;user-select: none;"><pre>120</pre></td><td class="rouge-code"><pre>    <span class="n">translate</span><span class="p">(</span><span class="n">x</span> <span class="o">-</span> <span class="n">x_prime</span><span class="p">,</span> <span class="n">y</span> <span class="o">-</span> <span class="n">y_prime</span><span class="p">)</span> <span class="k">do</span>
</pre></td></tr><tr id="line-121" class="lineno"><td class="rouge-gutter gl" style="-moz-user-select: none;-ms-user-select: none;-webkit-user-select: none;user-select: none;"><pre>121</pre></td><td class="rouge-code"><pre>      <span class="n">transformation_matrix</span><span class="p">(</span><span class="n">factor</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">factor</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">block</span><span class="p">)</span>
</pre></td></tr><tr id="line-122" class="lineno"><td class="rouge-gutter gl" style="-moz-user-select: none;-ms-user-select: none;-webkit-user-select: none;user-select: none;"><pre>122</pre></td><td class="rouge-code"><pre>    <span class="k">end</span>
</pre></td></tr><tr id="line-123" class="lineno"><td class="rouge-gutter gl" style="-moz-user-select: none;-ms-user-select: none;-webkit-user-select: none;user-select: none;"><pre>123</pre></td><td class="rouge-code"><pre>  <span class="k">end</span>
</pre></td></tr><tr id="line-124" class="lineno"><td class="rouge-gutter gl" style="-moz-user-select: none;-ms-user-select: none;-webkit-user-select: none;user-select: none;"><pre>124</pre></td><td class="rouge-code"><pre><span class="k">end</span>
</pre></td></tr></tbody></table>
</details>

</div>
    
      <div class="method_details ">
  <h3 class="signature " id="transformation_matrix-instance_method">
  
    #<strong>transformation_matrix</strong>(*matrix) { ... } &#x21d2; <tt>void</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note returns_void">This method returns an undefined value.</p><p>Transform the user space (see notes for rotate regarding graphics state)
Generally, one would use the <span class='object_link'><a href="#rotate-instance_method" title="Prawn::Graphics::Transformation#rotate (method)">#rotate</a></span>, <span class='object_link'><a href="#scale-instance_method" title="Prawn::Graphics::Transformation#scale (method)">#scale</a></span>, and <span class='object_link'><a href="#translate-instance_method" title="Prawn::Graphics::Transformation#translate (method)">#translate</a></span>
convenience methods instead of calling transformation_matrix directly</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>matrix</span>
      
      
        <span class='type'>(<tt>Array(Number, Number, Number, Number, Number, Number)</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>Transformation matrix.</p>

<p>The six elements correspond to the following elements of the
transformation matrix:</p>

<pre><code class="language-plain">a b 0
c d 0
e f 0
</code></pre>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Yields:</p>
<ul class="yield">
  
    <li>
      
      
        <span class='type'></span>
      
      
      
    </li>
  
</ul>

</div>
<details class="source-code">
  <summary><span>Source Code</span></summary>
  <div class="info file">lib/prawn/graphics/transformation.rb, line 154</div>
  <table class="highlight highlighter-rouge"><tbody><tr id="line-154" class="lineno"><td class="rouge-gutter gl" style="-moz-user-select: none;-ms-user-select: none;-webkit-user-select: none;user-select: none;"><pre>154</pre></td><td class="rouge-code"><pre><span class="k">def</span> <span class="nf">transformation_matrix</span><span class="p">(</span><span class="o">*</span><span class="n">matrix</span><span class="p">)</span>
</pre></td></tr><tr id="line-155" class="lineno"><td class="rouge-gutter gl" style="-moz-user-select: none;-ms-user-select: none;-webkit-user-select: none;user-select: none;"><pre>155</pre></td><td class="rouge-code"><pre>  <span class="k">if</span> <span class="n">matrix</span><span class="p">.</span><span class="nf">length</span> <span class="o">!=</span> <span class="mi">6</span>
</pre></td></tr><tr id="line-156" class="lineno"><td class="rouge-gutter gl" style="-moz-user-select: none;-ms-user-select: none;-webkit-user-select: none;user-select: none;"><pre>156</pre></td><td class="rouge-code"><pre>    <span class="k">raise</span> <span class="no">ArgumentError</span><span class="p">,</span>
</pre></td></tr><tr id="line-157" class="lineno"><td class="rouge-gutter gl" style="-moz-user-select: none;-ms-user-select: none;-webkit-user-select: none;user-select: none;"><pre>157</pre></td><td class="rouge-code"><pre>      <span class="s1">'Transformation matrix must have exacty 6 elements'</span>
</pre></td></tr><tr id="line-158" class="lineno"><td class="rouge-gutter gl" style="-moz-user-select: none;-ms-user-select: none;-webkit-user-select: none;user-select: none;"><pre>158</pre></td><td class="rouge-code"><pre>  <span class="k">end</span>
</pre></td></tr><tr id="line-159" class="lineno"><td class="rouge-gutter gl" style="-moz-user-select: none;-ms-user-select: none;-webkit-user-select: none;user-select: none;"><pre>159</pre></td><td class="rouge-code"><pre>  <span class="n">save_graphics_state</span> <span class="k">if</span> <span class="nb">block_given?</span>
</pre></td></tr><tr id="line-160" class="lineno"><td class="rouge-gutter gl" style="-moz-user-select: none;-ms-user-select: none;-webkit-user-select: none;user-select: none;"><pre>160</pre></td><td class="rouge-code"><pre>
</pre></td></tr><tr id="line-161" class="lineno"><td class="rouge-gutter gl" style="-moz-user-select: none;-ms-user-select: none;-webkit-user-select: none;user-select: none;"><pre>161</pre></td><td class="rouge-code"><pre>  <span class="n">add_to_transformation_stack</span><span class="p">(</span><span class="o">*</span><span class="n">matrix</span><span class="p">)</span>
</pre></td></tr><tr id="line-162" class="lineno"><td class="rouge-gutter gl" style="-moz-user-select: none;-ms-user-select: none;-webkit-user-select: none;user-select: none;"><pre>162</pre></td><td class="rouge-code"><pre>
</pre></td></tr><tr id="line-163" class="lineno"><td class="rouge-gutter gl" style="-moz-user-select: none;-ms-user-select: none;-webkit-user-select: none;user-select: none;"><pre>163</pre></td><td class="rouge-code"><pre>  <span class="n">values</span> <span class="o">=</span> <span class="no">PDF</span><span class="o">::</span><span class="no">Core</span><span class="p">.</span><span class="nf">real_params</span><span class="p">(</span><span class="n">matrix</span><span class="p">)</span>
</pre></td></tr><tr id="line-164" class="lineno"><td class="rouge-gutter gl" style="-moz-user-select: none;-ms-user-select: none;-webkit-user-select: none;user-select: none;"><pre>164</pre></td><td class="rouge-code"><pre>  <span class="n">renderer</span><span class="p">.</span><span class="nf">add_content</span><span class="p">(</span><span class="s2">"</span><span class="si">#{</span><span class="n">values</span><span class="si">}</span><span class="s2"> cm"</span><span class="p">)</span>
</pre></td></tr><tr id="line-165" class="lineno"><td class="rouge-gutter gl" style="-moz-user-select: none;-ms-user-select: none;-webkit-user-select: none;user-select: none;"><pre>165</pre></td><td class="rouge-code"><pre>  <span class="k">if</span> <span class="nb">block_given?</span>
</pre></td></tr><tr id="line-166" class="lineno"><td class="rouge-gutter gl" style="-moz-user-select: none;-ms-user-select: none;-webkit-user-select: none;user-select: none;"><pre>166</pre></td><td class="rouge-code"><pre>    <span class="k">yield</span>
</pre></td></tr><tr id="line-167" class="lineno"><td class="rouge-gutter gl" style="-moz-user-select: none;-ms-user-select: none;-webkit-user-select: none;user-select: none;"><pre>167</pre></td><td class="rouge-code"><pre>    <span class="n">restore_graphics_state</span>
</pre></td></tr><tr id="line-168" class="lineno"><td class="rouge-gutter gl" style="-moz-user-select: none;-ms-user-select: none;-webkit-user-select: none;user-select: none;"><pre>168</pre></td><td class="rouge-code"><pre>  <span class="k">end</span>
</pre></td></tr><tr id="line-169" class="lineno"><td class="rouge-gutter gl" style="-moz-user-select: none;-ms-user-select: none;-webkit-user-select: none;user-select: none;"><pre>169</pre></td><td class="rouge-code"><pre><span class="k">end</span>
</pre></td></tr></tbody></table>
</details>

</div>
    
      <div class="method_details ">
  <h3 class="signature " id="translate-instance_method">
  
    #<strong>translate</strong>(x, y) { ... } &#x21d2; <tt>void</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note returns_void">This method returns an undefined value.</p><p>Translate the user space. If a block is not provided, then you must
save and restore the graphics state yourself.</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
        <p class="example_title"><div class='inline'><p>Move the text up and over 10</p>
</div></p>
      
      <div lang="ruby" class="language-ruby highlighter-rouge"><pre><code><span class="n">save_graphics_state</span>
<span class="n">translate</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
<span class="n">text</span> <span class="s2">"scaled text"</span>
<span class="n">restore_graphics_state</span></code></pre></div>

    
      
        <p class="example_title"><div class='inline'><p>draw a rectangle with its upper-left corner at x + 10, y + 10</p>
</div></p>
      
      <div lang="ruby" class="language-ruby highlighter-rouge"><pre><code><span class="n">x</span> <span class="o">=</span> <span class="mi">300</span>
<span class="n">y</span> <span class="o">=</span> <span class="mi">300</span>
<span class="n">width</span> <span class="o">=</span> <span class="mi">150</span>
<span class="n">height</span> <span class="o">=</span> <span class="mi">200</span>
<span class="n">pdf</span><span class="p">.</span><span class="nf">translate</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span> <span class="k">do</span>
  <span class="n">pdf</span><span class="p">.</span><span class="nf">stroke_rectangle</span><span class="p">([</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">],</span> <span class="n">width</span><span class="p">,</span> <span class="n">height</span><span class="p">)</span>
<span class="k">end</span></code></pre></div>

    
  </div>

<p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>x</span>
      
      
        <span class='type'>(<tt>Number</tt>)</span>
      
      
      
    </li>
  
    <li>
      
        <span class='name'>y</span>
      
      
        <span class='type'>(<tt>Number</tt>)</span>
      
      
      
    </li>
  
</ul>

<p class="tag_title">Yields:</p>
<ul class="yield">
  
    <li>
      
      
        <span class='type'></span>
      
      
      
    </li>
  
</ul>

</div>
<details class="source-code">
  <summary><span>Source Code</span></summary>
  <div class="info file">lib/prawn/graphics/transformation.rb, line 78</div>
  <table class="highlight highlighter-rouge"><tbody><tr id="line-78" class="lineno"><td class="rouge-gutter gl" style="-moz-user-select: none;-ms-user-select: none;-webkit-user-select: none;user-select: none;"><pre>78</pre></td><td class="rouge-code"><pre><span class="k">def</span> <span class="nf">translate</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">block</span><span class="p">)</span>
</pre></td></tr><tr id="line-79" class="lineno"><td class="rouge-gutter gl" style="-moz-user-select: none;-ms-user-select: none;-webkit-user-select: none;user-select: none;"><pre>79</pre></td><td class="rouge-code"><pre>  <span class="n">transformation_matrix</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">block</span><span class="p">)</span>
</pre></td></tr><tr id="line-80" class="lineno"><td class="rouge-gutter gl" style="-moz-user-select: none;-ms-user-select: none;-webkit-user-select: none;user-select: none;"><pre>80</pre></td><td class="rouge-code"><pre><span class="k">end</span>
</pre></td></tr></tbody></table>
</details>

</div>
    
  </div>

</div>

      <div id="footer">
  Generated on Fri Mar  1 12:33:14 2024 by
  <a href="https://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.9.35 (ruby-3.3.0).
</div>

    </div>
  </body>
</html>