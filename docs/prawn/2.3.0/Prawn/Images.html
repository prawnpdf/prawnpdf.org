<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>
  Module: Prawn::Images
  
    &mdash; Prawn Documentation
  
</title>

  <link rel="stylesheet" href="../css/style.css" type="text/css" />

  <link rel="stylesheet" href="../css/common.css" type="text/css" />

<script type="text/javascript">
  pathId = "Prawn::Images";
  relpath = '../';
</script>


  <script type="text/javascript" charset="utf-8" src="../js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="../js/app.js"></script>


  </head>
  <body>
    <div class="nav_wrap">
      <iframe id="nav" src="../class_list.html?1"></iframe>
      <div id="resizer"></div>
    </div>

    <div id="main" tabindex="-1">
      <div id="header">
        <div id="menu">
  
    <a href="../_index.html">Index (I)</a> &raquo;
    <span class='title'><span class='object_link'><a href="../Prawn.html" title="Prawn (module)">Prawn</a></span></span>
     &raquo; 
    <span class="title">Images</span>
  
</div>

        <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="../class_list.html">

        <svg width="24" height="24">
          <rect x="0" y="4" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="12" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="20" width="24" height="4" rx="1" ry="1"></rect>
        </svg>
    </a>
  
</div>
        <div class="clear"></div>
      </div>

      <div id="content"><h1>Module: Prawn::Images
  
  
  
</h1>
<div class="box_info">
  

  
  
  
  
  

  
  <dl>
    <dt>Included in:</dt>
    <dd><span class='object_link'><a href="Document.html" title="Prawn::Document (class)">Document</a></span></dd>
  </dl>
  

  
  <dl>
    <dt>Defined in:</dt>
    <dd>lib/prawn/images.rb<span class="defines">,<br />
  lib/prawn/images/jpg.rb,<br /> lib/prawn/images/png.rb,<br /> lib/prawn/images/image.rb</span>
</dd>
  </dl>
  
</div>

<h2>Defined Under Namespace</h2>
<p class="children">
  
    
  
    
      <strong class="classes">Classes:</strong> <span class='object_link'><a href="Images/Image.html" title="Prawn::Images::Image (class)">Image</a></span>, <span class='object_link'><a href="Images/JPG.html" title="Prawn::Images::JPG (class)">JPG</a></span>, <span class='object_link'><a href="Images/PNG.html" title="Prawn::Images::PNG (class)">PNG</a></span>
    
  
</p>







  
    <h2>
      Stable API
      <small><a href="#" class="summary_toggle">collapse</a></small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#image-instance_method" title="#image (instance method)">#<strong>image</strong>(file, options = {})  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Add the image at filename to the current page.</p>
</div></span>
  
</li>

      
    </ul>
  



  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="image-instance_method">
  
    #<strong>image</strong>(file, options = {})  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Add the image at filename to the current page. Currently only JPG and PNG files are supported. (Note that processing PNG images with alpha channels can be processor and memory intensive.)</p>

<p>Arguments:</p>
<dl class="rdoc-list note-list"><dt><code>file</code>
<dd>
<p>path to file or an object that responds to #read and</p>
</dd></dl>

<pre class="code ruby"><code class="ruby"><span class='comment'>#rewind
</span></code></pre>

<p>Options:</p>
<dl class="rdoc-list note-list"><dt><code>:at</code>
<dd>
<p>an array [x,y] with the location of the top left corner of</p>
</dd></dl>

<pre class="code ruby"><code class="ruby">the image.
</code></pre>
<dl class="rdoc-list note-list"><dt><code>:position</code>
<dd>
<p>One of (:left, :center, :right) or an x-offset</p>
</dd><dt><code>:vposition</code>
<dd>
<p>One of (:top, :center, :bottom) or an y-offset</p>
</dd><dt><code>:height</code>
<dd>
<p>the height of the image [actual height of the image]</p>
</dd><dt><code>:width</code>
<dd>
<p>the width of the image [actual width of the image]</p>
</dd><dt><code>:scale</code>
<dd>
<p>scale the dimensions of the image proportionally</p>
</dd><dt><code>:fit</code>
<dd>
<p>scale the dimensions of the image proportionally to fit</p>
</dd></dl>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_inside'>inside</span> <span class='lbracket'>[</span><span class='id identifier rubyid_width'>width</span><span class='comma'>,</span><span class='id identifier rubyid_height'>height</span><span class='rbracket'>]</span>

<span class='const'><span class='object_link'><a href="../Prawn.html" title="Prawn (module)">Prawn</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Document.html" title="Prawn::Document (class)">Document</a></span></span><span class='period'>.</span><span class='id identifier rubyid_generate'><span class='object_link'><a href="Document.html#generate-class_method" title="Prawn::Document.generate (method)">generate</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>image2.pdf</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='symbol'>:page_layout</span> <span class='op'>=&gt;</span> <span class='symbol'>:landscape</span><span class='rparen'>)</span> <span class='kw'>do</span>
  <span class='id identifier rubyid_pigs'>pigs</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='const'><span class='object_link'><a href="../Prawn.html" title="Prawn (module)">Prawn</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../Prawn.html#DATADIR-constant" title="Prawn::DATADIR (constant)">DATADIR</a></span></span><span class='embexpr_end'>}</span><span class='tstring_content'>/images/pigs.jpg</span><span class='tstring_end'>&quot;</span></span>
  <span class='id identifier rubyid_image'>image</span> <span class='id identifier rubyid_pigs'>pigs</span><span class='comma'>,</span> <span class='symbol'>:at</span> <span class='op'>=&gt;</span> <span class='lbracket'>[</span><span class='int'>50</span><span class='comma'>,</span><span class='int'>450</span><span class='rbracket'>]</span><span class='comma'>,</span> <span class='symbol'>:width</span> <span class='op'>=&gt;</span> <span class='int'>450</span>

  <span class='id identifier rubyid_dice'>dice</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='const'><span class='object_link'><a href="../Prawn.html" title="Prawn (module)">Prawn</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../Prawn.html#DATADIR-constant" title="Prawn::DATADIR (constant)">DATADIR</a></span></span><span class='embexpr_end'>}</span><span class='tstring_content'>/images/dice.png</span><span class='tstring_end'>&quot;</span></span>
  <span class='id identifier rubyid_image'>image</span> <span class='id identifier rubyid_dice'>dice</span><span class='comma'>,</span> <span class='symbol'>:at</span> <span class='op'>=&gt;</span> <span class='lbracket'>[</span><span class='int'>50</span><span class='comma'>,</span> <span class='int'>450</span><span class='rbracket'>]</span><span class='comma'>,</span> <span class='symbol'>:scale</span> <span class='op'>=&gt;</span> <span class='float'>0.75</span>
<span class='kw'>end</span>
</code></pre>

<p>If only one of :width / :height are provided, the image will be scaled proportionally.  When both are provided, the image will be stretched to fit the dimensions without maintaining the aspect ratio.</p>

<p>If :at is provided, the image will be place in the current page but the text position will not be changed.</p>

<p>If instead of an explicit filename, an object with a read method is passed as <code>file</code>, you can embed images from IO objects and things that act like them (including Tempfiles and open-uri objects).</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_require'>require</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>open-uri</span><span class='tstring_end'>&quot;</span></span>

<span class='const'><span class='object_link'><a href="../Prawn.html" title="Prawn (module)">Prawn</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Document.html" title="Prawn::Document (class)">Document</a></span></span><span class='period'>.</span><span class='id identifier rubyid_generate'><span class='object_link'><a href="Document.html#generate-class_method" title="Prawn::Document.generate (method)">generate</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>remote_images.pdf</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='kw'>do</span>
  <span class='id identifier rubyid_image'>image</span> <span class='id identifier rubyid_open'>open</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>http://prawnpdf.org/media/prawn_logo.png</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
<span class='kw'>end</span>
</code></pre>

<p>This method returns an image info object which can be used to check the dimensions of an image object if needed. (See also: Prawn::Images::PNG , Prawn::Images::JPG)</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


68
69
70
71
72
73
74
75
76
77
78</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/prawn/images.rb', line 68</span>

<span class='kw'>def</span> <span class='id identifier rubyid_image'>image</span><span class='lparen'>(</span><span class='id identifier rubyid_file'>file</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span><span class='rparen'>)</span>
  <span class='const'><span class='object_link'><a href="../Prawn.html" title="Prawn (module)">Prawn</a></span></span><span class='period'>.</span><span class='id identifier rubyid_verify_options'>verify_options</span> <span class='qsymbols_beg'>%i[</span><span class='words_sep'>
    </span><span class='tstring_content'>at</span><span class='words_sep'> </span><span class='tstring_content'>position</span><span class='words_sep'> </span><span class='tstring_content'>vposition</span><span class='words_sep'> </span><span class='tstring_content'>height</span><span class='words_sep'>
    </span><span class='tstring_content'>width</span><span class='words_sep'> </span><span class='tstring_content'>scale</span><span class='words_sep'> </span><span class='tstring_content'>fit</span><span class='words_sep'>
  </span><span class='tstring_end'>]</span></span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span>

  <span class='id identifier rubyid_pdf_obj'>pdf_obj</span><span class='comma'>,</span> <span class='id identifier rubyid_info'>info</span> <span class='op'>=</span> <span class='id identifier rubyid_build_image_object'>build_image_object</span><span class='lparen'>(</span><span class='id identifier rubyid_file'>file</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_embed_image'>embed_image</span><span class='lparen'>(</span><span class='id identifier rubyid_pdf_obj'>pdf_obj</span><span class='comma'>,</span> <span class='id identifier rubyid_info'>info</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span><span class='rparen'>)</span>

  <span class='id identifier rubyid_info'>info</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>

      <div id="footer">
  Generated on Sat Aug  1 21:07:57 2020 by
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.9.25 (ruby-2.7.1).
</div>

    </div>
  </body>
</html>